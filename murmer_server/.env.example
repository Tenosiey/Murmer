# Murmer Environment Configuration
# Copy this file to .env and update values as needed

# =============================================================================
# Server Configuration
# =============================================================================

# Database connection string (REQUIRED)
# Format: postgres://username:password@host:port/database
DATABASE_URL=postgres://murmer:murmer@localhost:5432/murmer

# Directory for uploaded files (default: uploads/)
UPLOAD_DIR=uploads

# Socket address for the server to bind to (default: 0.0.0.0:3001)
# Use 127.0.0.1:3001 to bind only to localhost
BIND_ADDRESS=0.0.0.0:3001

# =============================================================================
# Authentication & Security
# =============================================================================

# Optional shared password required for client WebSocket connections
# Uncomment to require a password for all connections
# SERVER_PASSWORD=changeme

# Admin token for managing user roles via the /role endpoint
# Required to enable role-based channel management
# Generate a secure random token: openssl rand -base64 32
# ADMIN_TOKEN=your-secure-random-token-here

# =============================================================================
# Rate Limiting
# =============================================================================

# Maximum messages allowed per user per minute (default: 300)
MAX_MESSAGES_PER_MINUTE=300

# Maximum authentication attempts allowed per IP per minute (default: 5)
MAX_AUTH_ATTEMPTS_PER_MINUTE=5

# Nonce expiry time in seconds for replay protection (default: 300)
NONCE_EXPIRY_SECONDS=300

# =============================================================================
# CORS Configuration
# =============================================================================

# Comma-separated list of origins allowed to access HTTP endpoints
# ONLY use this during development; disable in production for security
# Example: CORS_ALLOW_ORIGINS=http://localhost:1420,http://localhost:5173
# CORS_ALLOW_ORIGINS=http://localhost:1420

# =============================================================================
# Logging
# =============================================================================

# Rust log level configuration
# Options: error, warn, info, debug, trace
# Example: RUST_LOG=murmer_server=debug,axum=info
RUST_LOG=murmer_server=info,axum=info
